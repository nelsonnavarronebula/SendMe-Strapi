---
import fetchApi from "../../lib/strapi.ts";
import type Funtions from "../../interfaces/funtions.ts";
import Section from "../atoms/Section.astro";
import CardSolution from "../molecules/CardSolution.astro";
import Planet from "../icons/Planet.svg";

const FuntionsData = await fetchApi<Funtions[]>({
  endpoint: "benefits?populate=*",
  wrappedByKey: "data",
});
---

<Section
  id="benefits"
  class="flex-col bg-gradient-to-b from-white via-purple-50/20 to-green-50/30 overflow-hidden"
>
  <h2
    class="w-3/5 text-center text-3xl sm:text-4xl lg:text-5xl font-bold text-foreground"
  >
    {FuntionsData[0].title[0].children[0].text}
    <span
      class="bg-gradient-to-r from-blue-600 to-[#fece2f] bg-clip-text text-transparent"
      >{FuntionsData[0].title[1].children[0].text}</span
    >
  </h2>

  <p class="w-4/5 text-center text-lg text-muted-foreground mt-8">
    {FuntionsData[0].subParagraph}
  </p>

  <div class="w-5/6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 my-8">
    {
      FuntionsData[0].CardsBenefits.map((item) => (
        <CardSolution item={item}>
          <div class="flex items-center justify-between mt-4">
            <div class="text-gray-400 animate-bounce ease-in-out delay-700 transition-all duration-1000">
              <img src={Planet.src} class="w-6 h-6" />
            </div>
          </div>

          <div class="absolute inset-0 opacity-5">
            <div class="absolute top-4 right-4 w-3 h-3 border border-current rounded-full -z-10"></div>
            <div class="absolute bottom-4 left-4 w-2 h-2 border border-current rounded-full -z-10"></div>
          </div>
        </CardSolution>
      ))
    }
  </div>
</Section>
